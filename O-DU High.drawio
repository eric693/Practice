<mxfile host="app.diagrams.net" modified="2022-08-26T08:23:25.423Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36" etag="gAuCqYQq1BakT0Thv2-N" version="20.2.0" type="github">
  <diagram id="4c9493ZX0JVMc4V4SmF9" name="Page-1">
    <mxGraphModel dx="5030" dy="3435" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="p64wqYi4TbKfhQqd9-dO-115" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-15" target="p64wqYi4TbKfhQqd9-dO-113">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-15" value="&lt;div&gt;uint8_t MacSchCellCfgReq(Pst *pst, MacCellCfg *macCellCfg)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;SchCellCfg schCellCfg;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Pst&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cfgPst;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t&amp;nbsp; &amp;nbsp; ssbMaskIdx = 0, rsrcListIdx = 0, ret=0, sliceIdx=0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;memset(&amp;amp;cfgPst, 0, sizeof(Pst));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;memset(&amp;amp;schCellCfg, 0, sizeof(SchCellCfg));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schCellCfg.cellId = macCellCfg-&amp;gt;cellId;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schCellCfg.phyCellId = macCellCfg-&amp;gt;phyCellId;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schCellCfg.numerology = macCellCfg-&amp;gt;numerology;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schCellCfg.dupMode = macCellCfg-&amp;gt;dupType;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schCellCfg.bandwidth = macCellCfg-&amp;gt;dlCarrCfg.bw;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schCellCfg.dlFreq = macCellCfg-&amp;gt;dlCarrCfg.freq;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schCellCfg.ulFreq = macCellCfg-&amp;gt;ulCarrCfg.freq;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-120" y="810" width="350" height="220" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-86" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-17" target="p64wqYi4TbKfhQqd9-dO-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-17" value="&lt;div&gt;#ifdef NR_TDD&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;memcpy(&amp;amp;schCellCfg.tddCfg, &amp;amp;macCellCfg-&amp;gt;tddCfg, sizeof(TDDCfg));&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;FILL_PST_MAC_TO_SCH(cfgPst, EVENT_SCH_CELL_CFG);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;ret = (*SchCellCfgOpts[cfgPst.selector])(&amp;amp;cfgPst, &amp;amp;schCellCfg);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return ret;&lt;/div&gt;&lt;div&gt;} /* end of MacSchCellCfgReq */&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-120" y="1680" width="350" height="220" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-19" target="p64wqYi4TbKfhQqd9-dO-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-19" value="&lt;div&gt;SchCellCfgFunc SchCellCfgOpts[] =&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;packSchCellCfg,&amp;nbsp; &amp;nbsp;/* packing for loosely coupled */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;SchHdlCellCfgReq, /* packing for tightly coupled */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;packSchCellCfg&amp;nbsp; &amp;nbsp; /* packing for light weight loosly coupled */&lt;/div&gt;&lt;div&gt;};&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-120" y="1945" width="350" height="100" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-216" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-20" target="p64wqYi4TbKfhQqd9-dO-69">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-20" value="&lt;div&gt;uint8_t SchHdlCellCfgReq(Pst *pst, SchCellCfg *schCellCfg)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t ret = ROK;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;SchCellCb *cellCb;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;SchCellCfgCfm schCellCfgCfm;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Pst rspPst;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Inst inst = pst-&amp;gt;dstInst-1;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t coreset0Idx = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t numRbs = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t offset = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t freqDomainResource[FREQ_DOM_RSRC_SIZE] = {0};&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;SchPdschConfig pdschCfg;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-120" y="2100" width="350" height="190" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-21" value="&lt;div&gt;uint8_t tst(void)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;init_log();&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#ifdef O1_ENABLE&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(start_O1_module() != ROK)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return RFAILED;&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;//Initialize TAPA layers&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(duInit() != ROK)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return RFAILED;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;//Read all the configs from du_utils.c into duCfgParams&lt;/div&gt;&lt;div&gt;#ifndef O1_ENABLE&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duReadCfg();&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#ifdef O1_ENABLE&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;//Send VES PNF registration message to SMO&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;sendPnfRegistration();&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return ROK;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;}/* end of main()*/&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1220" y="460" width="320" height="410" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-22" value="&lt;div&gt;uint8_t duReadCfg()&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Pst pst;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Buffer *mBuf;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;memset(&amp;amp;duCfgParam, 0, sizeof(DuCfgParams));&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;//Read configs into duCfgParams&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(readCfg() != ROK)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; DU_LOG(&quot;\nERROR&amp;nbsp; --&amp;gt;&amp;nbsp; DU_APP : Reading configuration failed&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return RFAILED;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1220" y="920" width="320" height="250" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-23" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-21" target="p64wqYi4TbKfhQqd9-dO-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1130" y="960" as="sourcePoint" />
            <mxPoint x="1180" y="910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-34" value="" style="endArrow=none;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1090" y="1030" as="sourcePoint" />
            <mxPoint x="1220" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-35" value="" style="endArrow=none;html=1;rounded=0;exitX=1.008;exitY=0.437;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1570" y="1030" as="sourcePoint" />
            <mxPoint x="1910" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-36" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1909.38" y="1030" as="sourcePoint" />
            <mxPoint x="1909.38" y="1230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-37" value="&lt;div&gt;uint8_t fapiMacSlotInd(Pst *pst, SlotTimingInfo *slotInd)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ret = ROK;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint16_t&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cellIdx;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;volatile uint32_t&amp;nbsp; &amp;nbsp; &amp;nbsp;startTime=0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#ifdef ODU_SLOT_IND_DEBUG_LOG&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;DU_LOG(&quot;\nDEBUG&amp;nbsp; --&amp;gt;&amp;nbsp; MAC : Slot Indication received. [%d : %d]&quot;, slotInd-&amp;gt;sfn, slotInd-&amp;gt;slot);&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/*starting Task*/&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;ODU_START_TASK(&amp;amp;startTime, PID_MAC_TTI_IND);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;gSlotCount++;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(gSlotCount == 1)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;	&lt;/span&gt;&amp;nbsp; &amp;nbsp;GET_CELL_IDX(slotInd-&amp;gt;cellId, cellIdx);&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;	&lt;/span&gt;&amp;nbsp; &amp;nbsp;macCb.macCell[cellIdx]-&amp;gt;state = CELL_STATE_UP;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;/* When testing L2 with Intel-L1, any changes specific to&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;* timer mode testing must be guarded under INTEL_TIMER_MODE*/&lt;/div&gt;&lt;div&gt;#ifndef INTEL_TIMER_MODE&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* send slot indication to scheduler */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;ret = sendSlotIndMacToSch(slotInd);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(ret != ROK)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; DU_LOG(&quot;\nERROR&amp;nbsp; --&amp;gt;&amp;nbsp; MAC : Sending of slot ind msg from MAC to SCH failed&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; MAC_FREE_SHRABL_BUF(pst-&amp;gt;region, pst-&amp;gt;pool, slotInd, sizeof(SlotTimingInfo));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return ret;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;ret = macProcSlotInd(*slotInd);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(ret != ROK)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; DU_LOG(&quot;\nERROR&amp;nbsp; --&amp;gt;&amp;nbsp; MAC : macProcSlotInd failed&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; MAC_FREE_SHRABL_BUF(pst-&amp;gt;region, pst-&amp;gt;pool, slotInd, sizeof(SlotTimingInfo));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return ret;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* send slot indication to du app */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(gSlotCount == 1)&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ret = sendCellUpIndMacToDuApp(slotInd-&amp;gt;cellId);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if(ret != ROK)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;DU_LOG(&quot;\nERROR&amp;nbsp; --&amp;gt;&amp;nbsp; MAC :Sending of slot ind msg from MAC to DU APP failed&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;MAC_FREE_SHRABL_BUF(pst-&amp;gt;region, pst-&amp;gt;pool, slotInd, sizeof(SlotTimingInfo));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return ret;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="3162" y="420" width="320" height="860" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2582" y="2140" as="sourcePoint" />
            <mxPoint x="2582" y="2180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-167" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-41" target="p64wqYi4TbKfhQqd9-dO-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-41" value="&lt;div&gt;/* Check for SSB occassion */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;dlBrdcstAlloc-&amp;gt;ssbTrans = schCheckSsbOcc(cell, dlSchedInfo.schSlotValue.broadcastTime);&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(dlBrdcstAlloc-&amp;gt;ssbTrans)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if(schBroadcastSsbAlloc(cell, dlSchedInfo.schSlotValue.broadcastTime, dlBrdcstAlloc) != ROK)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;DU_LOG(&quot;\nERROR&amp;nbsp; --&amp;gt;&amp;nbsp; SCH : schBroadcastSsbAlloc failed&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;dlBrdcstAlloc-&amp;gt;ssbTrans = NO_TRANSMISSION;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; else&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;dlSchedInfo.isBroadcastPres = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if((dlBrdcstAlloc-&amp;gt;ssbTrans == NEW_TRANSMISSION) &amp;amp;&amp;amp; (!cell-&amp;gt;firstSsbTransmitted))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cell-&amp;gt;firstSsbTransmitted = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="2301" y="1790" width="320" height="320" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-42" value="&lt;div&gt;PduTxOccsaion schCheckSsbOcc(SchCellCb *cell, SlotTimingInfo slotTime)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t&amp;nbsp; ssb_rep;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;ssb_rep = cell-&amp;gt;cellCfg.ssbSchCfg.ssbPeriod;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* Identify SSB ocassion*/&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if ((slotTime.sfn % SCH_MIB_TRANS == 0) &amp;amp;&amp;amp; (slotTime.slot ==0))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return NEW_TRANSMISSION;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;else if(cell-&amp;gt;firstSsbTransmitted)&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if((ssb_rep == 5) &amp;amp;&amp;amp; ((slotTime.slot == 0 || slotTime.slot == 10)))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return REPEATITION;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; else if((slotTime.sfn % (ssb_rep/10) == 0) &amp;amp;&amp;amp; slotTime.slot == 0)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return REPEATITION;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* not SSB occassion */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return NO_TRANSMISSION;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="2260" y="2150" width="400" height="360" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-107" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-44" target="p64wqYi4TbKfhQqd9-dO-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-44" value="&lt;div&gt;/* Select first UE in the linked list to be scheduled next */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;pendingUeNode = cell-&amp;gt;ueToBeScheduled.first;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(pendingUeNode)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if(pendingUeNode-&amp;gt;node)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;ueId = *(uint8_t *)(pendingUeNode-&amp;gt;node);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/* If RAR is pending for this UE, schedule PDCCH,PDSCH to send RAR and&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; * PUSCH to receive MSG3 as per k0-k2 configuration*/&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if(cell-&amp;gt;raReq[ueId-1] != NULLP)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; isRarPending = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; isRarScheduled = schProcessRaReq(cell, *slotInd, ueId);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="3190" y="1780" width="460" height="300" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-152" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-46" target="p64wqYi4TbKfhQqd9-dO-148">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-46" value="&lt;div&gt;/* If MSG4 is pending for this UE, schedule PDCCH,PDSCH to send MSG4 and&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; * PUCCH to receive UL msg as per k0-k1 configuration&amp;nbsp; */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if(cell-&amp;gt;raCb[ueId-1].msg4recvd)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; isMsg4Pending = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; isMsg4Scheduled = schProcessMsg4Req(cell, *slotInd, ueId);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if(isRarPending || isMsg4Pending)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;{&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="3190" y="2125" width="460" height="150" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-47" value="&lt;div&gt;/* Send msg to MAC */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;ret = sendDlAllocToMac(&amp;amp;dlSchedInfo, schInst);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(ret != ROK)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; DU_LOG(&quot;\nERROR&amp;nbsp; --&amp;gt;&amp;nbsp; SCH : Sending DL Broadcast allocation from SCH to MAC failed&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return (ret);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schInitDlSlot(cell-&amp;gt;schDlSlotInfo[slot]);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schUlResAlloc(cell, schInst);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return ret;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="3190" y="2495" width="460" height="240" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-89" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-48" target="p64wqYi4TbKfhQqd9-dO-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-48" value="&lt;div style=&quot;&quot;&gt;/* Send cell cfg to scheduler */&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp;ret = MacSchCellCfgReq(pst, macCellCfg);&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp;if(ret != ROK)&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; MacCellCfgCfm macCellCfgCfm;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; macCellCfgCfm.rsp = RSP_NOK;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; macCellCfgCfm.cellId = macCellCfg-&amp;gt;cellId;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /* Fill Pst */&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; FILL_PST_MAC_TO_DUAPP(cfmPst, EVENT_MAC_CELL_CONFIG_CFM);&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; cfmPst.selector&amp;nbsp; = ODU_SELECTOR_LC;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ret = (*packMacCellCfmOpts[cfmPst.selector])(&amp;amp;cfmPst,&amp;amp;macCellCfgCfm);&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp;else&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; MAC_FREE_SHRABL_BUF(pst-&amp;gt;region, pst-&amp;gt;pool, macCellCfg ,sizeof(MacCellCfg));&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp;return ret;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-175" y="470" width="460" height="300" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-57" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;mac_cfg_hdl.c&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-30" y="420" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-65" value="&lt;span style=&quot;font-size: 18px;&quot;&gt;sch.c&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="75" y="2057" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-66" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;du_mgr_main.c&lt;/font&gt;" style="text;whiteSpace=wrap;html=1;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="1335" y="420" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-187" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-69" target="p64wqYi4TbKfhQqd9-dO-184">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-69" value="&lt;div&gt;/* Fill K0 - K1 table for common cfg*/&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;BuildK0K1Table(cellCb, &amp;amp;cellCb-&amp;gt;cellCfg.schInitialDlBwp.k0K1InfoTbl, true, cellCb-&amp;gt;cellCfg.schInitialDlBwp.pdschCommon,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;pdschCfg, DEFAULT_UL_ACK_LIST_COUNT, defaultUlAckTbl);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;BuildK2InfoTable(cellCb, cellCb-&amp;gt;cellCfg.schInitialUlBwp.puschCommon.timeDomRsrcAllocList,\&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;cellCb-&amp;gt;cellCfg.schInitialUlBwp.puschCommon.numTimeDomRsrcAlloc, &amp;amp;cellCb-&amp;gt;cellCfg.schInitialUlBwp.msg3K2InfoTbl, \&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;amp;cellCb-&amp;gt;cellCfg.schInitialUlBwp.k2InfoTbl);&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-290" y="2330" width="690" height="120" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-71" value="&lt;div&gt;typedef struct pst&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;ProcId dstProcId; /* destination processor ID */&lt;/div&gt;&lt;div&gt;ProcId srcProcId; /* source processor ID */&lt;/div&gt;&lt;div&gt;Ent dstEnt; /* destination entity */&lt;/div&gt;&lt;div&gt;Inst dstInst; /* destination instance */&lt;/div&gt;&lt;div&gt;Ent srcEnt; /* source entity */&lt;/div&gt;&lt;div&gt;Inst srcInst; /* source instance */&lt;/div&gt;&lt;div&gt;Prior prior; /* priority */&lt;/div&gt;&lt;div&gt;Route route; /* route */&lt;/div&gt;&lt;div&gt;Event event; /* event */&lt;/div&gt;&lt;div&gt;Region region; /* region */&lt;/div&gt;&lt;div&gt;Pool pool; /* pool */&lt;/div&gt;&lt;div&gt;Selector selector; /* selector */&lt;/div&gt;&lt;div&gt;uint16_t spare1; /* spare for alignment */&lt;/div&gt;&lt;div&gt;} Pst;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="190" y="90" width="320" height="250" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-72" target="p64wqYi4TbKfhQqd9-dO-75">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-72" value="&lt;div&gt;uint8_t procSlotInd(fapi_slot_ind_t *fapiSlotInd)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* fill Pst structure to send to lwr_mac to MAC */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Pst pst;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint16_t ret = 0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;SlotTimingInfo *slotInd = {0};&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;MAC_ALLOC_SHRABL_BUF(slotInd, sizeof(SlotTimingInfo));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(slotInd)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; slotInd-&amp;gt;cellId = lwrMacCb.cellCb[0].cellId;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; slotInd-&amp;gt;sfn = fapiSlotInd-&amp;gt;sfn;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; slotInd-&amp;gt;slot = fapiSlotInd-&amp;gt;slot;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; FILL_PST_LWR_MAC_TO_MAC(pst, EVENT_SLOT_IND_TO_MAC);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; pst.selector = ODU_SELECTOR_LWLC;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ret = (*sendSlotIndOpts[pst.selector])(&amp;amp;pst, slotInd);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;else&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; DU_LOG(&quot;\nERROR&amp;nbsp; --&amp;gt;&amp;nbsp; LWR_MAC: Memory allocation failed in procSlotInd&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ret = RFAILED;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return ret;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="3162" y="-290" width="320" height="430" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-73" value="lwr_mac_handle_phy.c" style="text;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="3222" y="-340" width="220" height="50" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-79" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-75" target="p64wqYi4TbKfhQqd9-dO-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-75" value="&lt;div&gt;/* Function pointer for slot indication from lower mac to mac */&lt;/div&gt;&lt;div&gt;SlotIndFunc sendSlotIndOpts[] =&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;packSlotInd,&amp;nbsp; /* packing for loosely coupled */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;fapiMacSlotInd, /* packing for tightly coupled */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;packSlotInd /* packing for light weight loosly coupled */&lt;/div&gt;&lt;div&gt;};&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="3162" y="210" width="320" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-76" value="mac_slot_ind.c" style="text;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="3347" y="370" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-93" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-90" target="p64wqYi4TbKfhQqd9-dO-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-90" value="&lt;div&gt;int sendSlotIndMacToSch(SlotTimingInfo *slotInd)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* fill Pst structure to send to lwr_mac to MAC */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Pst pst;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;FILL_PST_MAC_TO_SCH(pst, EVENT_SLOT_IND_TO_SCH);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return(*macSchSlotIndOpts[pst.selector])(&amp;amp;pst,slotInd);&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="2702" y="1110" width="320" height="150" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-97" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-92" target="p64wqYi4TbKfhQqd9-dO-95">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-92" value="&lt;div&gt;/* function pointers for packing slot ind from mac to sch */&lt;/div&gt;&lt;div&gt;MacSchSlotIndFunc macSchSlotIndOpts[] =&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;packMacSchSlotInd,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;MacSchSlotInd,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;packMacSchSlotInd&lt;/div&gt;&lt;div&gt;};&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="2702" y="1280" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-130" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-95" target="p64wqYi4TbKfhQqd9-dO-118">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-95" value="&lt;div&gt;&lt;div&gt;uint8_t MacSchSlotInd(Pst *pst, SlotTimingInfo *slotInd)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Inst&amp;nbsp; inst = pst-&amp;gt;dstInst-SCH_INST_START;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;#ifdef CALL_FLOW_DEBUG_LOG&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;DU_LOG(&quot;\nCall Flow: ENTMAC -&amp;gt; ENTSCH : EVENT_SLOT_IND_TO_SCH\n&quot;);&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schProcessSlotInd(slotInd, inst);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return ROK;&lt;/div&gt;&lt;div&gt;}&amp;nbsp;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="2702" y="1440" width="320" height="200" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-104" value="sch_slot_ind.c" style="text;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="3450" y="1730" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-111" value="sch_slot_ind.c" style="text;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="2887" y="1650" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-112" value="sch.c" style="text;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="2902" y="1400" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-176" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-113" target="p64wqYi4TbKfhQqd9-dO-175">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-113" value="&lt;div&gt;&amp;nbsp;ssb scheduler parameters&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="-38.13" y="1100" width="186.25" height="70" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-194" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-116" target="p64wqYi4TbKfhQqd9-dO-193">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-116" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;uint8_t readCfg()&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t srvdCellIdx, bandIdx, sliceIdx, plmnIdx;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t brdcstPlmnIdx, freqBandIdx, srvdPlmnIdx;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint32_t ipv4_du, ipv4_cu, ipv4_ric;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;MibParams mib;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Sib1Params sib1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;F1TaiSliceSuppLst *taiSliceSuppLst;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="950" y="1230" width="280" height="140" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-161" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-117" target="p64wqYi4TbKfhQqd9-dO-158">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-117" value="&lt;div&gt;uint8_t readMacCfg()&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint8_t idx=0, sliceIdx=0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;F1TaiSliceSuppLst *taiSliceSuppLst;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.carrierId = CARRIER_IDX;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* Cell configuration */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.numerology = NR_NUMEROLOGY;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dupType = DUPLEX_MODE;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1720" y="1230" width="380" height="180" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-140" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-118" target="p64wqYi4TbKfhQqd9-dO-127">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2862" y="1770" />
              <mxPoint x="2862" y="1770" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-118" value="schProcessSlotInd()" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="2772" y="1700" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-121" value="" style="endArrow=none;html=1;rounded=0;fontSize=18;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2860" y="760" as="sourcePoint" />
            <mxPoint x="3162" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-122" value="" style="endArrow=classic;html=1;rounded=0;fontSize=18;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" target="p64wqYi4TbKfhQqd9-dO-90">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2860" y="760" as="sourcePoint" />
            <mxPoint x="3080" y="890" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-123" value="" style="endArrow=none;html=1;rounded=0;fontSize=18;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3482" y="760" as="sourcePoint" />
            <mxPoint x="3780" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-124" value="" style="endArrow=classic;html=1;rounded=0;fontSize=18;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3780" y="760" as="sourcePoint" />
            <mxPoint x="3782" y="1110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-125" value="&lt;div&gt;uint8_t macProcSlotInd(SlotTimingInfo slotInd)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;uint16_t&amp;nbsp; cellIdx = 0;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;GET_CELL_IDX(slotInd.cellId, cellIdx);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(macCb.macCell[cellIdx] == NULLP)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; DU_LOG(&quot;ERROR&amp;nbsp; --&amp;gt; MAC : macProcSlotInd(): CellId[%d] does not exist. Error occurred at SFN [%d] Slot [%d]&quot;,\&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; slotInd.cellId, slotInd.sfn, slotInd.slot);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return RFAILED;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* Store current time info */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;macCb.macCell[cellIdx]-&amp;gt;currTime.cellId = slotInd.cellId;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;macCb.macCell[cellIdx]-&amp;gt;currTime.slot = slotInd.slot;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;macCb.macCell[cellIdx]-&amp;gt;currTime.sfn = slotInd.sfn;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* Mux Pdu for Msg4 */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;buildAndSendMuxPdu(slotInd);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* Trigger for DL TTI REQ */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;fillDlTtiReq(slotInd);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return ROK;&lt;/div&gt;&lt;div&gt;}&amp;nbsp; /* macProcSlotInd */&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="3620" y="1110" width="320" height="410" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-126" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-127">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2866" y="2150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-127" value="&lt;div&gt;/* Check for SIB1 occassion */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;dlBrdcstAlloc-&amp;gt;sib1Trans = schCheckSib1Occ(cell, dlSchedInfo.schSlotValue.broadcastTime);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if(dlBrdcstAlloc-&amp;gt;sib1Trans)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if(schBroadcastSib1Alloc(cell, dlSchedInfo.schSlotValue.broadcastTime, dlBrdcstAlloc) != ROK)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;DU_LOG(&quot;\nERROR&amp;nbsp; --&amp;gt;&amp;nbsp; SCH : schBroadcastSib1Alloc failed&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;dlBrdcstAlloc-&amp;gt;sib1Trans = NO_TRANSMISSION;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; else&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;dlSchedInfo.isBroadcastPres = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;if((dlBrdcstAlloc-&amp;gt;sib1Trans == NEW_TRANSMISSION) &amp;amp;&amp;amp; (!cell-&amp;gt;firstSib1Transmitted))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; cell-&amp;gt;firstSib1Transmitted = true;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="2706" y="1790" width="320" height="320" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-128" value="&lt;div&gt;PduTxOccsaion schCheckSib1Occ(SchCellCb *cell, SlotTimingInfo slotTime)&lt;/div&gt;&lt;div&gt;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* Identify SIB1 occasions */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;if((slotTime.sfn % SCH_SIB1_TRANS == 0) &amp;amp;&amp;amp; (slotTime.slot ==0))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; return NEW_TRANSMISSION;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;else if(cell-&amp;gt;firstSib1Transmitted)&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; if((slotTime.sfn % (cell-&amp;gt;cellCfg.sib1SchCfg.sib1RepetitionPeriod/10) == 0) &amp;amp;&amp;amp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; (slotTime.slot == 0))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;return REPEATITION;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* not SIB1 occassion */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return NO_TRANSMISSION;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="2674" y="2150" width="456" height="360" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-136" value="" style="endArrow=none;html=1;rounded=0;fontSize=18;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2480" y="1710" as="sourcePoint" />
            <mxPoint x="2770" y="1710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-137" value="" style="endArrow=classic;html=1;rounded=0;fontSize=18;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2481" y="1714" as="sourcePoint" />
            <mxPoint x="2481" y="1794" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-146" value="" style="endArrow=classic;html=1;rounded=0;fontSize=18;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3421.47" y="1724" as="sourcePoint" />
            <mxPoint x="3421.47" y="1783" as="targetPoint" />
            <Array as="points">
              <mxPoint x="3421" y="1710" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-147" value="" style="endArrow=none;html=1;rounded=0;fontSize=18;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-118">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3170" y="1960" as="sourcePoint" />
            <mxPoint x="3420" y="1710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-148" value="&lt;div&gt;&amp;nbsp;/* If RAR or MSG is successfully scheduled then&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;* remove UE from linked list since no pending msgs for this UE */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; if(isRarScheduled || isMsg4Scheduled)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;SCH_FREE(pendingUeNode-&amp;gt;node, sizeof(uint8_t));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;deleteNodeFromLList(&amp;amp;cell-&amp;gt;ueToBeScheduled, pendingUeNode);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="3190" y="2320" width="460" height="130" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-154" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" target="p64wqYi4TbKfhQqd9-dO-47">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3420" y="2500" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="3420" y="2450" />
              <mxPoint x="3420" y="2450" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-155" value="du_cfg.c" style="text;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="1398" y="880" width="90" height="40" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-162" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-158" target="p64wqYi4TbKfhQqd9-dO-159">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-158" value="&lt;div&gt;&lt;div&gt;/* DL carrier configuration */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.pres = TRUE;&lt;/div&gt;&lt;div&gt;#ifdef O1_ENABLE&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.cellId = cellParams.cellLocalId;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.phyCellId = cellParams.nRPCI;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.bw = cellParams.bSChannelBwUL;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.freq = cellParams.bSChannelBwDL;&lt;/div&gt;&lt;div&gt;#else&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.cellId = NR_CELL_ID;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.phyCellId = NR_PCI;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.bw = NR_BANDWIDTH;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.freq = NR_DL_ARFCN;&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.k0[0] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.k0[1] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.k0[2] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.k0[3] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.k0[4] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.gridSize[0] = 273;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.gridSize[1] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.gridSize[2] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.gridSize[3] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.gridSize[4] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.dlCarrCfg.numAnt = NUM_TX_ANT;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1685" y="1465" width="450" height="400" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-165" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-159" target="p64wqYi4TbKfhQqd9-dO-163">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-159" value="&lt;div&gt;&lt;div&gt;&amp;nbsp;/* UL Carrier configuration */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.pres = TRUE;&lt;/div&gt;&lt;div&gt;#ifdef O1_ENABLE&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.bw = cellParams.bSChannelBwUL;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.freq = cellParams.bSChannelBwDL;&lt;/div&gt;&lt;div&gt;#else&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.bw = NR_BANDWIDTH;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.freq =&amp;nbsp; NR_UL_ARFCN;&lt;/div&gt;&lt;div&gt;#endif&amp;nbsp; &amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.k0[0] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.k0[1] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.k0[2] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.k0[3] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.k0[4] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.gridSize[0] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.gridSize[1] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.gridSize[2] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.gridSize[3] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.gridSize[4] = 1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.ulCarrCfg.numAnt = NUM_RX_ANT;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.macCellCfg.freqShft = FREQ_SHIFT_7P5KHZ;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="1685" y="1895" width="450" height="380" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-168" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-163" target="p64wqYi4TbKfhQqd9-dO-164">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-163" value="&lt;div style=&quot;&quot;&gt;SSB configuration&amp;nbsp;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="1810" y="2360" width="200" height="55" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-169" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-164" target="p64wqYi4TbKfhQqd9-dO-166">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-164" value="&lt;div&gt;PRACH configuration&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="1835" y="2490" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-166" value="&lt;div&gt;&amp;nbsp;RSSI Measurement configuration&amp;nbsp;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="1811.25" y="2610" width="197.5" height="70" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-170" value="" style="endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1090" y="1030" as="sourcePoint" />
            <mxPoint x="1090" y="1230" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-181" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-175" target="p64wqYi4TbKfhQqd9-dO-177">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-175" value="&lt;div&gt;&amp;nbsp;SIB1 scheduler parameters&amp;nbsp;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="-39.980000000000004" y="1230" width="190" height="70" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-182" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-177" target="p64wqYi4TbKfhQqd9-dO-178">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-177" value="&lt;div&gt;&amp;nbsp; &amp;nbsp;RACH config params&amp;nbsp;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="-39.98" y="1366" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-222" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-178" target="p64wqYi4TbKfhQqd9-dO-220">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-178" value="&lt;div&gt;initial DL BWP&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="-60" y="1490" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-188" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-184">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="55" y="2620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-184" value="&lt;div&gt;&amp;nbsp;/* derive the SIB1 config parameters */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;fillSchSib1Cfg(schCellCfg-&amp;gt;numerology, schCellCfg-&amp;gt;bandwidth, cellCb-&amp;gt;numSlots,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;	&lt;/span&gt; &amp;amp;(schCellCfg-&amp;gt;sib1SchCfg), schCellCfg-&amp;gt;phyCellId,&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;&quot;&gt;	&lt;/span&gt; schCellCfg-&amp;gt;ssbSchCfg.ssbOffsetPointA);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;memcpy(&amp;amp;cellCb-&amp;gt;cellCfg, schCellCfg, sizeof(SchCellCfg));&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-290" y="2490" width="690" height="90" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-190" value="&lt;div&gt;&amp;nbsp;/* Fill and send Cell config confirm */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;memset(&amp;amp;rspPst, 0, sizeof(Pst));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;FILL_PST_SCH_TO_MAC(rspPst, pst-&amp;gt;dstInst);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;rspPst.event = EVENT_SCH_CELL_CFG_CFM;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schCellCfgCfm.cellId = schCellCfg-&amp;gt;cellId;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;schCellCfgCfm.rsp = RSP_OK;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;ret = (*SchCellCfgCfmOpts[rspPst.selector])(&amp;amp;rspPst, &amp;amp;schCellCfgCfm);&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;return ret;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="-289.98" y="2620" width="690" height="190" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-212" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-193" target="p64wqYi4TbKfhQqd9-dO-195">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-193" value="&lt;div style=&quot;text-align: start;&quot;&gt;&lt;div&gt;#ifndef O1_ENABLE&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* Note: Added these below variable for local testing*/&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;Snssai snssai[NUM_OF_SUPPORTED_SLICE] = {{1,{2,3,4}},{5,{6,7,8}}};&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="880" y="1400" width="420" height="60" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-228" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-195" target="p64wqYi4TbKfhQqd9-dO-196">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-195" value="&lt;div style=&quot;text-align: start;&quot;&gt;&lt;div&gt;&amp;nbsp; /* F1 DU IP Address and Port*/&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.sctpParams.duIpAddr.ipV4Addr = ipv4_du;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* F1 CU IP Address and Port*/&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.sctpParams.cuIpAddr.ipV4Addr = ipv4_cu;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* Fill RIC Params */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.sctpParams.ricIpAddr.ipV4Addr = ipv4_ric;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* EGTP Parameters */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.egtpParams.localIp.ipV4Pres = TRUE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.egtpParams.localIp.ipV4Addr = ipv4_du;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.egtpParams.localPort = DU_EGTP_PORT;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.egtpParams.destIp.ipV4Pres = TRUE;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.egtpParams.destIp.ipV4Addr = ipv4_cu;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.egtpParams.destPort = CU_EGTP_PORT;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.egtpParams.minTunnelId = MIN_TEID;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.egtpParams.maxTunnelId = MAX_TEID;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.maxUe = 32; //TODO: Check&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="935" y="1500" width="310" height="290" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-229" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-196" target="p64wqYi4TbKfhQqd9-dO-227">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-196" value="&lt;div style=&quot;text-align: start;&quot;&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp; /* SIB1 Params */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;memset(&amp;amp;sib1.plmn, 0, sizeof(Plmn));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;sib1.plmn.mcc[0] = PLMN_MCC0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;sib1.plmn.mcc[1] = PLMN_MCC1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;sib1.plmn.mcc[2] = PLMN_MCC2;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;sib1.plmn.mnc[0] = PLMN_MNC0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;sib1.plmn.mnc[1] = PLMN_MNC1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;sib1.ranac = DU_RANAC;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.sib1Params = sib1;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;for(srvdCellIdx=0; srvdCellIdx&amp;lt;DEFAULT_CELLS; srvdCellIdx++)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;{&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; memset(&amp;amp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.nrCgi.plmn, 0, sizeof(Plmn));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.nrCgi.plmn.mcc[0] = PLMN_MCC0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.nrCgi.plmn.mcc[1] = PLMN_MCC1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.nrCgi.plmn.mcc[2] = PLMN_MCC2;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.nrCgi.plmn.mnc[0] = PLMN_MNC0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.nrCgi.plmn.mnc[1] = PLMN_MNC1;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /*Cell ID */&lt;/div&gt;&lt;div&gt;&amp;nbsp;#ifdef O1_ENABLE&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.nrPci = cellParams.nRPCI;&lt;/div&gt;&lt;div&gt;&amp;nbsp;#else&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.nrPci = NR_PCI;&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /* List of Available PLMN */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; for(srvdPlmnIdx=0; srvdPlmnIdx&amp;lt;MAX_PLMN; srvdPlmnIdx++)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/* As per spec 38.473, Plmn identity consists of 3 digit from mcc&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; * followed by either 2 digit or 3 digits of mnc */&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;memset(&amp;amp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn, 0,\&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;sizeof(Plmn));&lt;/div&gt;&lt;div&gt;&amp;nbsp;#ifdef O1_ENABLE&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mcc[0] = cellParams.plmnList[srvdPlmnIdx].mcc[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mcc[1] = cellParams.plmnList[srvdPlmnIdx].mcc[1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mcc[2] = cellParams.plmnList[srvdPlmnIdx].mcc[2];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mnc[0] = cellParams.plmnList[srvdPlmnIdx].mnc[0];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mnc[1] = cellParams.plmnList[srvdPlmnIdx].mnc[1];&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mnc[2] = cellParams.plmnList[srvdPlmnIdx].mnc[2];&lt;/div&gt;&lt;div&gt;&amp;nbsp;#else&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mcc[0] = PLMN_MCC0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mcc[1] = PLMN_MCC1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mcc[2] = PLMN_MCC2;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mnc[0] = PLMN_MNC0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].plmn.mnc[1] = PLMN_MNC1;&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; /* List of Extended PLMN */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; for(srvdPlmnIdx=0; srvdPlmnIdx&amp;lt;MAX_PLMN; srvdPlmnIdx++)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;/* As per spec 38.473, Plmn identity consists of 3 digit from mcc&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; * followed by either 2 digit or 3 digits of mnc */&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;memset(&amp;amp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].extPlmn, 0, sizeof(Plmn));&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].extPlmn.mcc[0] = PLMN_MCC0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].extPlmn.mcc[1] = PLMN_MCC1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].extPlmn.mcc[2] = PLMN_MCC2;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].extPlmn.mnc[0] = PLMN_MNC0;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;duCfgParam.srvdCellLst[srvdCellIdx].duCellInfo.cellInfo.srvdPlmn[srvdPlmnIdx].extPlmn.mnc[1] = PLMN_MNC1;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; }&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="700" y="1825" width="780" height="910" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-208" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 249, 250); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;send slot indication to schedule&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="2910" y="760" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-209" value="&lt;span style=&quot;color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 249, 250); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;macProcSlotInd&lt;/span&gt;" style="text;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="3590" y="760" width="110" height="50" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-230" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-220" target="p64wqYi4TbKfhQqd9-dO-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-220" value="&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&amp;nbsp;initial UL BWP&amp;nbsp;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="-59.980000000000004" y="1590" width="230" height="50" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-227" value="&lt;div style=&quot;text-align: start;&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;/* Mib Params */&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;mib.sysFrmNum = SYS_FRAME_NUM;&lt;/div&gt;&lt;div&gt;#ifdef NR_TDD&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;mib.subCarrierSpacingCommon = MIB__subCarrierSpacingCommon_scs30or120;&lt;/div&gt;&lt;div&gt;#else&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;mib.subCarrierSpacingCommon = MIB__subCarrierSpacingCommon_scs15or60;&lt;/div&gt;&lt;div&gt;#endif&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;mib.ssb_SubcarrierOffset = SSB_SC_OFFSET; //Kssb&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;mib.dmrs_TypeA_Position = MIB__dmrs_TypeA_Position_pos2;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;mib.controlResourceSetZero = CORESET_0_INDEX;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;mib.searchSpaceZero = SEARCHSPACE_0_INDEX;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;mib.cellBarred = MIB__cellBarred_notBarred;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;mib.intraFreqReselection =&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; MIB__intraFreqReselection_notAllowed;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;duCfgParam.mibParams = mib;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=center;" vertex="1" parent="1">
          <mxGeometry x="910.5" y="2772.5" width="359" height="300" as="geometry" />
        </mxCell>
        <mxCell id="p64wqYi4TbKfhQqd9-dO-231" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=18;" edge="1" parent="1" source="p64wqYi4TbKfhQqd9-dO-178" target="p64wqYi4TbKfhQqd9-dO-178">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
